---
title: 도커 왜 사용하는데 ?
author: lujae
date: 2024-03-10 00:34:00 +0800
categories: [docker]
tags: [Docker]
toc: true
---

**하이퍼 바이저**

기존 가상환경 구성에는 하이퍼바이저를 사용했는데, 하이퍼 바이저위에서 동작하는 Guest OS에서의 성능 손실이 발생합니다. 가상머신은 완벽하게 운영체제를 생성할 수 있지만, 어느 정도의 성능 손실이 있고 이미지 크기가 크기 때문에 배포하기 어렵다는 단점이 있습니다.

**도커**

도커 컨테이너는 리눅스 계열의 고유 기능인 `chroot`, `namespace` , `cgroup` 을 사용하면서 프로세스 단위의 격리환경을 만들기 때문에 성능 손실이 거의 없습니다. 컨테이너에게 필요한 커널은 호스트 커널을 이용하고, 컨테이너 내에는 라이브러리 / 실행파일만 존재하기 때문에 컨테이너를 이미지화 했을 떄 크기가 가벼워 배포하기 쉽다는 장점이 있습니다.

> 요약하자면 도커는 기존 하이퍼바이저의 단점을 보완하는 방식으로, 성능과 배포의 유용성에서 하이퍼바이저를 보완합니다.

![dockerArchitecture](/assets/img/posts/dockerArchitecture.png)

## 개발과 배포

도커는 실행 환경을 격리하는 대표적인 기술이며, 이를 컨테이너화라고 합니다. 격리된 공간인 컨테이너는, 그 내부에서 여러 프로그램을 설치하더라도 외부에있는 Host OS에는 영향을 끼치지 않기에 독립적인 개발환경을 유지할 수 있습니다.

개발을 완료한 뒤 서버로 배포를 해야 하는 상황에서 컨테이너를 이미지화 시켜 전달하면, 서버에서 개발환경과 동일한 어플리케이션을 실행시킬 수 있습니다. 운영 서버에서 의존성에 대한 걱정을 하지 않아도 된다는 장점이 있습니다.

## 독립성과 확장성

여러개의 모듈을 하나로 합쳐 하나의 프로그램을 이루는 방식을 `모놀리스` 방식이라고 합니다. 이와 달리 여러 모듈을 독립된 형태로 구성하는 방식을 `마이크로 서비스` 방식이라고 합니다. 소규모 서비스에서는 모놀리스 방식이 적합할 수 있지만, 서비스의 규모가 점차 커지게 된다면 확장성과 유연성이 줄어들게 되는데, 이때 마이크로 서비스의 방식이 두각을 보입니다. 그리고 컨테이너는 여러 모듈에게 독립된 환경을 제공할 수 있기 때문에, 마이크로 서비스 구조에서 가장 많이 사용되는 가상화 기술입니다.
